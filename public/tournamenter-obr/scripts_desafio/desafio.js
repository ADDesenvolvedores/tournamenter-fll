var INITIALIZERNOP = [
  "Ym05dw=="
]

var INITIALIZER1 = [
  "VHlCeWIyTER0Q0JrWlhabElITnBibUZzYVhwaGNpQXpJSFpsZW1WeklIRjFZVzVrYnlCbGJtTnZiblJ5WVhJZ2RXMGdiMkp6ZE1PaFkzVnNienM9",
  "VHlCeWIyTER0Q0JrWlhabElITnBibUZzYVhwaGNpQndiM0lnTVRBZ2MyVm5kVzVrYjNNc0lHRnVkR1Z6SUdSbElHbHVhV05wWVhJZ1lTQnliMlJoWkdFc0lHUmxJR1p2Y20xaElHRjFkRzl0dzZGMGFXTmhMaUJQZFNCelpXcGhMQ0JoYnlCelpYSWdiR2xuWVdSdkxDQnZJSEp2WXNPMElIWmhhU0J6YVc1aGJHbDZZWElnWlNCa1pYQnZhWE1nYVc1cFkybGhjaUJoSUhKdlpHRmtZVHM9",
  "SWtSaGJzT25ZWElpSUM4Z0lsUnlaVzFsY2lJZ0x5QWlWbWxpY21GeUlpQXZJQ0pHYVdOaGNpQnBibVJ2SUdVZ2RtOXNkR0Z1Wkc4aUlHRnVkR1Z6SUdSbElHbHVhV05wWVhJZ1lTQnliMlJoWkdFPQ==",
  "VHlCeWIyTER0Q0JrWlhabElITnBibUZzYVhwaGNpQmhieUJwYm1samFXRnlJR0VnY205a1lXUmhPdz09",
  "VW1WemIyeDJZU0J2SUhCeWIySnNaVzFoT2lCVFpTQjFiU0J5YjJMRHRDQjBaVzBnTXpBZ2NHRnlZV1oxYzI5eklHVWdjR1Z5WkdWMUlESXdMQ0J4ZFdGdWRHOXpJSEJoY21GbWRYTnZjeUJ6YjJKeVlYSmhiVDhnVTJsdVlXeHBlbVVnYnlCdXc3cHRaWEp2SUdSbElIWmxlbVZ6SUdsbmRXRnNJR0VnY1hWaGJuUnBaR0ZrWlNCa1lTQnpiMkp5WVNCa2IzTWdjR0Z5WVdaMWMyOXpJR0Z2SUdWdVkyOXVkSEpoY2lCMWJTQnZZbk4wdzZGamRXeHZPdz09",
  "UVc4Z1kyaGxaMkZ5SUc1aElNT2hjbVZoSUdSbElISmxjMmRoZEdVc0lHOGdjbTlpdzdRZ2FYTERvU0J6YVc1aGJHbDZZWEk3",
  "VW05aXc3UWdaR1YyWlNCMmIyeDBZWElnWlNCcGNpQndZWEpoSUdaeVpXNTBaU0J3Wld4dklHMWxibTl6SURJZ2RtVjZaWE1nWVc4Z1pHVjBaV04wWVhJZ2RXMGdiMkp6ZE1PaFkzVnNienM9",
  "VW05aXc3UWdaR1YyWlNCa1lYSWdkVzBnWjJseWJ5QmpiMjF3YkdWMGJ5QmxiU0J6WlhVZ2NITERzM0J5YVc4Z1pXbDRieUJsYlNCeGRXRnNjWFZsY2lCdGIyMWxiblJ2SUdSaElISnZaR0ZrWVRzPQ==",
  "VHlCeWIyTER0Q0JrWlhabElITnBibUZzYVhwaGNpQXlJSFpsZW1WeklHRnZJR1JsYzNacFlYSWdaR1VnZFcwZ2IySnpkTU9oWTNWc2J5ND0=",
  "VTJsdVlXeHBlbUZ5SUhSdlpHRnpJR0Z6SUhabGVtVnpJSEYxWlNCdklISnZZc08wSUdWdVkyOXVkSEpoY2lCbGJtTnlkWHBwYkdoaFpHRnpJR052YlNCaElIQnlaWE5sYnNPbllTQmtZU0JwYm1ScFkySERwOE9qYnlCMlpYSmtaU3dnY0dGeVlTQmhJR1JwY21WcGRHRWdiM1VnWlhOeGRXVnlaR0V1",
  "UlhVZ1kyOXRjSEpsYVNBMU1DQmlZWFJsY21saGN5NGdWWE5sYVNBek1DQmxJR1JsYVNBeE5TQndZWEpoSUcxbGRTQnBjbTNEbzI4dUlGRjFZVzUwWVhNZ1ltRjBaWEpwWVhNZ2MyOWljbUZ5WVcwL0lGTnBibUZzYVhwbElHRWdjWFZoYkhGMVpYSWdiVzl0Wlc1MGJ5QnVieUJ5YjNWdVpDQmhJSEYxWVc1MGFXUmhaR1VnWkdVZ2RtVjZaWE1nWkc4Z2JzTzZiV1Z5YnlCa1pTQmlZWFJsY21saGN5QnhkV1VnYzI5aWNtRnlZVzB1",
  "UlcwZ2NHVnNieUJ0Wlc1dmN5QjFiU0J2WW5OMHc2RmpkV3h2TENCaGJ5QmtaWFJsWTNURG9TMXNieXdnYnlCeWIyTER0Q0JrWlhabElIQmhjbUZ5SUhCdmNpQTFJSE5sWjNWdVpHOXpMQ0J6YVc1aGJHbDZZWElnWlNCa1pYQnZhWE1nYzNWd1pYSmhjaUJ2SUc5aWMzVERvV04xYkc4dQ=="
]

var INITIALIZER2 = [
  "UVc1MFpYTWdaR1VnYVc1cFkybGhjaUJoSUhKdlpHRmtZU3dnZFcwZ1lXNTBaWEJoY204dmIySnpkTU9oWTNWc2J5QnpaWExEb1NCamIyeHZZMkZrYnlCdVlTQm1jbVZ1ZEdVZ1pHOGdjbTlpdzdRdUlFVnNaU0JrWlhabGNzT2hJR2x1YVdOcFlYSWdZU0J5YjJSaFpHRWdZWFYwYjIxaGRHbGpZVzFsYm5SbElIRjFZVzVrYnlCdklHOWljM1REb1dOMWJHOGdabTl5SUhKbGJXOTJhV1J2T3lBPQ==",
  "SWtSaGJzT25ZWElpSUM4Z0lsUnlaVzFsY2lJZ0x5QWlWbWxpY21GeUlpQXZJQ0pHYVdOaGNpQnBibVJ2SUdVZ2RtOXNkR0Z1Wkc4aUlHRnVkR1Z6SUdSbElHbHVhV05wWVhJZ1lTQnliMlJoWkdFNw==",
  "UTI5dWRtVnlkR0VnYnlCdXc3cHRaWEp2SURBd01EQWdNREF4TVNCa1pTQmlhVzdEb1hKcGJ5QndZWEpoSUdSbFkybHRZV3d1SUU4Z2NtVnpkV3gwWVdSdklNT3BJRzhnYnNPNmJXVnlieUJrWlNCMlpYcGxjeUJ4ZFdVZ2J5QnliMkxEdENCMllXa2djMmx1WVd4cGVtRnlJSEYxWVc1a2J5QjFiU0J2WW5OMHc2RmpkV3h2SUdWdVkyOXVkSEpoY2pzZw==",
  "VHlCeWIyTER0Q0JrWlhabElHNXZJR2x1dzYxamFXOGdaR0VnY205a1lXUmhJSFZ6WVhJZ2J5QnphVzVoYkdsNllXUnZjaUJ3YjNJZ2NHVnl3NjF2Wkc5eklHeHZibWR2Y3lCbElHTjFjblJ2Y3lCd1lYSmhJSE5wYm1Gc2FYcGhjaUJ2SUdQRHMyUnBaMjhnWW1sdXc2RnlhVzhnTVRBeE1DNGdUM1VnYzJWcVlUb2djMmx1WVd4cGVtSERwOE9qYnlCc2IyNW5ZU3dnWkdWd2IybHpJR04xY25SaExDQmtaWEJ2YVhNZ2JHOXVaMkVzSUdSbGNHOXBjeUJqZFhKMFlTQnViM1poYldWdWRHVTdJQT09",
  "VlcwZ1lXNTBaWEJoY204dmIySnpkTU9oWTNWc2J5QnpaWExEb1NCamIyeHZZMkZrYnlCdVlTQm1jbVZ1ZEdVZ1pHOGdjbTlpdzdRZ1lXNTBaWE1nWkc4Z2FXN0RyV05wYnlCa1lTQnliMlJoWkdFdUlFOGdjbTlpdzdRZ1pHVjJaWExEb1NCemFXNWhiR2w2WVhJZ1pXNXhkV0Z1ZEc4Z2J5QnZZbk4wdzZGamRXeHZJR1Z6ZEdsMlpYSWdibUVnWm5KbGJuUmxJR1J2SUhKdllzTzBMaUJCY01PemN5QnlaVzF2ZG1WeUlHOGdiMkp6ZE1PaFkzVnNieXdnYnlCeWIyTER0Q0JrWlhabGNzT2hJSEJoY21GeUlHUmxJSE5wYm1Gc2FYcGhjaUJoSUdsdWFXTnBZWElnWVNCeWIyUmhaR0V1SUVWemRHRnpJR0hEcDhPMVpYTWdaR1YyWlcwZ2IyTnZjbkpsY2lCa1pTQm1iM0p0WVNCaGRYUnZiY09oZEdsallUc2c=",
  "UVNCb2FYQnZkR1Z1ZFhOaElHUmxJSFZ0SUhSeWFjT2libWQxYkc4Z2NtVjB3Nkp1WjNWc2J5QmtaU0JzWVdSdmN5QTFZMjBnWlNBM1kyMGd3NmtnV0M0Z1UyVWdZU0J5WVdsNklIRjFZV1J5WVdSaElHUmxJRmdnWm05eUlHUnBkbWx6dzYxMlpXd2djRzl5SURJc0lHOGdjbTlpdzdRZ2RtRnBJSE5wYm1Gc2FYcGhjaUIxYldFZ2RtVjZJR0Z2SUdsdWFXTnBZWElnWVNCeWIyUmhaR0VzSUhObElHN0RvMjhzSUhaaGFTQnphVzVoYkdsNllYSWdNeUIyWlhwbGN6c2c=",
  "UlcwZ2NHVnNieUJ0Wlc1dmN5QjFiU0J2WW5OMHc2RmpkV3h2TENCaGJ5QmtaWFJsWTNURG9TMXNieXdnYnlCeWIyTER0Q0JrWlhabElIQmhjbUZ5SUhCdmNpQTFJSE5sWjNWdVpHOXpMQ0J6YVc1aGJHbDZZWElnWlNCa1pYQnZhWE1nYzNWd1pYSmhjaUJ2SUc5aWMzVERvV04xYkc4dQ==",
  "UVhERHMzTWdjR0Z6YzJGeUlIQnZjaUIxYlNCdlluTjB3NkZqZFd4dkxDQnZJSEp2WXNPMElHUmxkbVVnYzJsdVlXeHBlbUZ5SUdGdklIWnZiSFJoY2lCd1lYSmhJR0VnYkdsdWFHRTc=",
  "UlcwZ2NYVmhiSEYxWlhJZ2JXOXRaVzUwYnl3Z2J5QnliMkxEdENCa1pYWmxJSEJoY21GeUxDQmtZWElnZFcwZ1oybHlieUJrWlNBek5qQWdaM0poZFhNZ1pTQmtZWElnZFcxaElPS0FuSE5oYldKaFpHbHVhR0hpZ0owdQ==",
  "VHlCeWIyTER0Q3dnWVc4Z1pHVjBaV04wWVhJZ2RXMGdiMkp6ZE1PaFkzVnNieXdnWkdWMlpTQjJhWEpoY2lBeE9EQWdaM0poZFhNc0lIWnZiSFJoY2lCd1pXeHZJRzFsYm05eklERXdZMjBzSUdkcGNtRnlJRzV2ZG1GdFpXNTBaU0F4T0RBZ1ozSmhkWE1zSUdVZ2M4T3pJR0Z3dzdOeklHbHpjMjhnWkdWemRtbGhjaUJrYnlCdlluTjB3NkZqZFd4dkxpQT0=",
  "VHlCeWIyTER0Q3dnWlcwZ2NHVnNieUJ0Wlc1dmN5QjFiU0JIUVZBZ0xDQmtaWFpsY3NPaElHZHBjbUZ5SURrd0lHZHlZWFZ6SUdVZ2NHRnlZWElnY0c5eUlIQmxiRzhnYldWdWIzTWdNU0J6WldkMWJtUnZMaUJFWlhCdmFYTXNJR052Ym5ScGJuVmhjaUJ2SUdkcGNtOGdjR1Z5Wm1GNlpXNWtieUF5TnpBZ1ozSmhkWE1nWlNCamIyNTBhVzUxWVhJZ2MyVjFJSFJ5WVdwbGRHOHVJQ2hUWVhKaGFEb2dZU0J0WVdsdmNpQndZWEowWlNCa2IzTWdjbTlpdzdSeklHN0RvMjhnYVdSbGJuUnBabWxqWVNCdklHZGhjQ3dnYzJsdGNHeGxjMjFsYm5SbElHbG5ibTl5WVNrPQ==",
  "VW1WemIyeDJZU0JoSUhObFozVnBiblJsSUdWeGRXSERwOE9qYnpvZ2VNS3lJT0tBa3lBMWVDQXJJRFlnUFNBd0xpQlRaU0JoSUhKbGMzQnZjM1JoSUdadmNpQnRaVzV2Y2lCeGRXVWdaRzhnTlN3Z2J5QnliMkxEdENCa1pYWmxJR1JoY2lCMWJTQm5hWEp2SUhCaGNtRWdZU0JsYzNGMVpYSmtZU0JoYzNOcGJTQnhkV1VnWm05eUlHbHVhV05wWVdSdklHOGdjbTkxYm1Rc0lITmxJR0VnY21WemNHOXpkR0VnWm05eUlHMWhhVzl5SUdSdklIRjFaU0ExSUc4Z2NtOWl3N1FnWkdWMlpTQmtZWElnZFcwZ1oybHlieUJ3WVhKaElHRWdaR2x5WldsMFlTQmhieUJwYm1samFXRnlJRzhnY205MWJtUXU=",
  "VHlCeWIyTER0Q0JrWlhabElITnBibUZzYVhwaGNpQjFiV0VnZG1WNklIUnZaR0VnZG1WNklIRjFaU0JzYjJOaGJHbDZZWElnZFcxaElIYkRyWFJwYldFdQ==",
  "VHlCeWIyTER0Q0JrWlhabElIQmhjbUZ5SUhCdmNpQXpJSE5sWjNWdVpHOXpJSFJ2WkdFZ2RtVjZJSEYxWlNCc2IyTmhiR2w2WVhJZ2RXMWhJSGJEclhScGJXRXU=",
  "UTJGc1kzVnNaU0JoSUczRHFXUnBZU0JoY21sMGJjT3BkR2xqWVNCemFXMXdiR1Z6SUdSdmN5QnV3N3B0WlhKdmN6b2dNVFVnT3lBME9DQTdJRE0yTGlCRFlYTnZJR0VnY21WemNHOXpkR0VnYzJWcVlTQnRaVzV2Y2lCeGRXVWdNakFnYnlCeWIyTER0Q0JrWlhabElHWmhlbVZ5SUhWdElHMXZkbWx0Wlc1MGJ5QndZWEpoSUdFZ1pHbHlaV2wwWVNCaGJuUmxjeUJrWlNCamIyMWx3NmRoY2lCdklISnZkVzVrTENCelpTQm1iM0lnYldGcGIzSWdjWFZsSURJd0lHOGdjbTlpdzdRZ1pHVjJaU0JtWVhwbGNpQjFiU0J0YjNacGJXVnVkRzhnY0dGeVlTQmhJR1Z6Y1hWbGNtUmhJR0Z1ZEdWeklHUmxJR052YldYRHAyRnlJRzhnY205MWJtUXU=",
  "UVNCMGRYSnRZU0JrYnlBMndyb2dZVzV2SUVFZ1pHVWdkVzFoSUdSbGRHVnliV2x1WVdSaElHVnpZMjlzWVNCMFpXMGdNalVnWVd4MWJtOXpMQ0JrYjNNZ2NYVmhhWE1nTWpRbElIUERvMjhnYldWdWFXNXZjeTRnVVhWaGJuUnZjeUJ0Wlc1cGJtOXpJSFJsYlNCdVlTQjBkWEp0WVNCa2J5QTJ3cm9nWVc1dklFRS9JRU5oYzI4Z1lTQnlaWE53YjNOMFlTQnpaV3BoSUcxbGJtOXlJSEYxWlNBeE1DQnphVzVoYkdsNlpTQmxibkYxWVc1MGJ5QnpiMkpsSUdFZ2NtRnRjR0VzSUdOaGMyOGdjMlZxWVNCdFlXbHZjaUJ4ZFdVZ01UQWdjMmx1WVd4cGVtVWdaVzBnZEc5a2J5QnZJSFJ5WVdwbGRHOGdaR0VndzZGeVpXRWdaR1VnY0dWeVkzVnljMjhzSUcxbGJtOXpJRzVoSUhKaGJYQmhMZz09",
  "UTI5dGNISmxhU0IxYlNCdGIzUnZjaUJ1YjNadklIQmhjbUVnYldWMUlISnZZc08wSUdVZ2IySjBhWFpsSUhWdElHUmxjMk52Ym5SdklHUmxJREUxSlNCd2IzSWdjR0ZuWVhJZ1lTQjJhWE4wWVM0Z1UyVWdjR0ZuZFdWcElGSWtNVEF5TERBd0lIQmxiRzhnYlc5MGIzSXNJSEYxWVd3Z1pYSmhJSE5sZFNCd2NtWERwMjhnYjNKcFoybHVZV3dnYzJWdElHOGdaR1Z6WTI5dWRHOC9JRk5sSUc4Z2RtRnNiM0lnWm05eUlHMWhhVzl5SUhGMVpTQlNKREV4TUN3d01DQnphVzVoYkdsNlpTQnhkV0Z1Wkc4Z1kyaGxaMkZ5SUc1aElNTzZiSFJwYldFZ2MyRnNZU3dnYzJVZ2J5QjJZV3h2Y2lCbWIzSnRJRzFsYm05eUlIRjFaU0JTSkRFeE1Dd3dNQ0J3WVhKbElIQnZjaUF5SUhObFozVnVaRzl6SUhGMVlXNWtieUJqYUdWbllYSWdibUVndzdwc2RHbHRZU0J6WVd4aExnPT0=",
  "VkhMRHFuTWdZbkpodzZkdmN5QnliMkxEczNScFkyOXpJSFJ5WVc1emNHOXlkR0Z0SURJd01DQjBiMjVsYkdGa1lYTWdaR1VnY0hKdlpIVjBiM01nY0c5eUlHUnBZUzRnVUdGeVlTQjBjbUZ1YzNCdmNuUmhjaUF4TmpBd0lIUnZibVZzWVdSaGN5QndiM0lnWkdsaExDQnhkV0Z1ZEc5eklHSnlZY09uYjNNZ2NtOWl3N04wYVdOdmN5QnpaWEpwWVcwZ2JtVmpaWE56dzZGeWFXOXpQeUJEWVhOdklHRWdjbVZ6Y0c5emRHRWdjMlZxWVNCdFpXNXZjaUJ4ZFdVZ01UVWdjMmx1WVd4cGVtVWdibThnYVc3RHJXTnBieUJrWVNCeWIyUmhaR0VzSUdOaGMyOGdZU0J5WlhOd2IzTjBZU0J6WldwaElHMWhhVzl5SUhGMVpTQXhOU0J3WVhKbElIQnZjaUExSUhObFozVnVaRzl6SUhGMVlXNWtieUJsYm1OdmJuUnlZWElnZFcwZ2IySnpkTU9oWTNWc2J5d2dZVzUwWlhNZ1pHVnNaU0J5WldGc2FYcGhjaUJ2SUdSbGMzWnBieTQ9",
  "VlcwZ2IybDBZWFp2SUdSbElIVnRZU0J3YVhwNllTQmpkWE4wWVNCU0pETXNNREF1SUZGMVlXNTBieUJqZFhOMFlTQjFiV0VnY0dsNmVtRWdhVzUwWldseVlUOGdVMlVnWm05eUlHMWxibTl5SUhGMVpTQlNKREl3TERBd0lHOGdjbTlpdzdRZ1pHVjJaWExEb1NCemFXNWhiR2w2WVhJZ2RHOWtZWE1nWVhNZ2RtVjZaWE1nY1hWbElIUnBkbVZ5SUhWdFlTQmxibU55ZFhwcGJHaGhaR0VnWTI5dElIWmxjbVJsSUdFZ1pHbHlaV2wwWVN3Z2MyVWdabTl5SUcxaGFYTWdjWFZsSUZJa01qQXNNREFnYnlCeWIyTER0Q0JrWlhabGNzT2hJSE5wYm1Gc2FYcGhjaUIwYjJSaGN5QmhjeUIyWlhwbGN5QnhkV1VnYnlCeWIyTER0Q0JsYzNScGRtVnlJRzUxYldFZ1pXNWpjblY2YVd4b1lXUmhJR052YlNCMlpYSmtaU0J3WVhKaElHRWdaWE54ZFdWeVpHRXU=",
  "VTJsdVlXeHBlbUZ5SUhSdlpHRnpJR0Z6SUhabGVtVnpJSEYxWlNCdklISnZZc08wSUdWdVkyOXVkSEpoY2lCbGJtTnlkWHBwYkdoaFpHRnpJR052YlNCaElIQnlaWE5sYnNPbllTQmtZU0JwYm1ScFkySERwOE9qYnlCMlpYSmtaU3dnY0dGeVlTQmhJR1JwY21WcGRHRWdiM1VnWlhOeGRXVnlaR0V1"
]

var Tokens={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="";var n,r,i,s,o,u,a;var f=0;e=Tokens._utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t="";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9+/=]/g,"");while(f<e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=Tokens._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/rn/g,"n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},_utf8_decode:function(e){var t="";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t}}

angular.module('Desafio', [])

.controller('DesafioCtrl', function ($scope, Table, Score) {
  $scope.tables = Table.all()
  $scope.selectedTable = null
  $scope.selectedScore = null
  $scope.tableScores = null

  $scope.error = null
  $scope.search = ''

  $scope.selectTable = function selectTable(table) {
    $scope.error = ''
    $scope.selectedTable = table
    $scope.selectedScore = null
  }

  $scope.selectScore = function selectScore(score) {
    $scope.error = ''
    $scope.selectedScore = score
  }

  $scope.generateChallenge = function generateChallenge(score, challengeId) {
    $scope.error = ''
    
    var teamName = score.team && score.team.name
    if (!teamName) {
      $scope.error = 'O nome desta equipe não está definido, verifique se a equipe possui um nome válido'
      return 
    }

    // Checa nivel
    var teamNivel = null
    if (teamName[0] == '1') teamNivel = 1
    else if (teamName[0] == '2') teamNivel = 2
    else {
      $scope.error = 
        'Não foi possível identificar o nível a partir do nome da equipe. \n' + 
        'Use o formato "1 - equipe" ou "2 - equipe" para indicar o nível 1 ou 2.'
      return
    }
    
    var msg = 'Tem certeza de que deseja gerar o desafio ' + 
              challengeId + ' da equipe ' + (teamName) + '?'

    var ok = confirm(msg)

    if (!ok) {
      return
    }

    var possibleChallenges = _.without(window['DES' + teamNivel], score.desafio1)
    var challenge = _.sample(possibleChallenges)

    var newChallenges = {
      id: score.id,
    }

    newChallenges['desafio'+challengeId] = challenge

    Score.update(newChallenges, function (score){ 
      $scope.selectedScore.desafio1 = score.desafio1
      $scope.selectedScore.desafio2 = score.desafio2
    }, function () {
      $scope.error = 'Falha ao gerar scores'
    })

    console.log(challenge)
  }

  function initUI(){
    var z = 'ial', d = 'izer', a = 'init', cas = 'AF', main = 'IOS', upper = 'DES'
    // window[(a + z + d).toUpperCase()]['map'](function (e){console.log(Tokens.encode(Tokens.encode(e)))})
    window[upper+1] = window[(a + z + d + 1).toUpperCase()]['map'](function (e){return Tokens.decode(Tokens.decode(e))})
    window[upper+2] = window[(a + z + d + 2).toUpperCase()]['map'](function (e){return Tokens.decode(Tokens.decode(e))})
  }; initUI()
})

function makeAll(chals) {
  chals = chals.map(function (e) { return Tokens.encode(Tokens.encode(e)) })
  return JSON.stringify(chals, null, 2)
}